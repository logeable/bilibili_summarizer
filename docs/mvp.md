# bilibili summarizer 概要设计-mvp

## 核心功能流程

1. 用户输入 Bilibili 视频链接
2. 点击「开始分析」按钮
3. 后台执行以下步骤：
   • 下载视频
   • 使用 ffmpeg 提取音频
   • 使用 whisper 转录语音为文本
   • 使用 LLM 执行摘要与精彩片段分析
4. 在前端界面展示：
   • 视频标题
   • 摘要文字
   • 5 个精彩片段（带时间戳和描述），点击后可打开 bilibili 网站，播放对应时间的内容

## UI 草图

```
+----------------------------------------------+
|             BiliSummarizer 智能助手          |
+----------------------------------------------+
| 视频链接： [ https://www.bilibili.com/... ]  |
|                                              |
| [ 开始分析 ]                                 |
+----------------------------------------------+

[ 输出结果 ]
-----------------------------------------------
视频摘要：
> 本视频介绍了作者在创业过程中的三次失败...

精彩片段：
1. [03:45] 作者讲述第一次失败的爆笑片段
2. [07:10] 情绪激动，灵感爆发
3. [11:20] 温情结尾，主题升华
```

## 技术选型

| **模块**          | **技术/框架**             | **说明**                         |
| ----------------- | ------------------------- | -------------------------------- |
| Electron 主进程   | Node.js                   | 负责后台处理、文件下载与命令执行 |
| Electron 渲染进程 | HTML + TS + React         | 实现前端页面                     |
| 下载与转码        | yt-dlp + ffmpeg           | 使用子进程运行命令               |
| 转写语音          | whisper.cpp 或 OpenAI API | 本地或云端转写                   |
| 文本摘要          | OpenAI GPT-4 API          | 摘要、精彩片段抽取               |
| 进度显示          | 渲染进程与主进程通信      | ipcMain / ipcRenderer 通信机制   |

## 主进程任务流程

```
[Electron Main]
    |
    |-- 下载视频（yt-dlp）
    |-- 提取音频（ffmpeg）
    |-- Whisper 转写
    |-- 调用 LLM 摘要+精彩提取
    |
    +--> 通过 ipc 发送结果到渲染进程
```
